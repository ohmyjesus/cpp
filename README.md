# cpp

此学习笔记来源于[黑马c++教程](https://www.bilibili.com/video/BV1et411b73Z?p=56)，库中目前包含的有以下知识

第一章. **基本语法**

第二章. **数组与结构体**

第三章. **引用与函数的高级用法**

第四章. **类与对象**

第五章. **文件操作**

第六章. **模板**

第七章. **STL**

&emsp;&emsp;string容器和vector容器
### From 2021.3.14 继续开始学习互联网相关的东西 (不断更新中)
&emsp;&emsp;由于过去几个月一直在忙论文的事，现从2021.3月中旬开始继续学习互联网相关的知识， 主要是C++语法，Linux操作系统，数据结构，计算机网络，数据库等知识，东西还是很多的，需要好好学习一段时间。为之后的实习和秋招打下基础

近期学习了：
- 标准容器，包括栈，队列，set/mutilset和map/mutilmap容器和unorder_map的关联容器，他们之间的区别以及功能
- C++11的新特性,如auto关键字，nullptr关键字，智能指针，范围for语句
- 看完了图解TCP/IP，图解HTTP书
- 学习mysql数据库的基本操作，如库操作，表操作，约束，查询练习，四种连接查询和事务

未来工作：
- C++11新特性的理解
- 网络编程的知识巩固
- 设计模式
- LeetCode题

<p align="right">by2021.4.8</p>

近期学习：
- 网络编程知识的加深理解   如进程间通信，线程间通信，网络编程等知识
- 单例设计模型    单例类的特点，以及单线程版本，多线程版本(锁的代价过大)，双检查锁，C++11的跨平台实现volative
- lambda表达式  
- 刷题
- 根据面经来查漏补缺

### 1. lambda表达式
它包括捕获列表，参数列表，返回类型和函数体。

```c++
[capture list](parameter list) -> return type {function body}
//捕获列表			参数列表           返回类型         函数体
```

lambda表达式可以忽略参数列表和返回类型，但必须包含捕获列表和函数体。				(必须使用后置返回，同时可以省略lambda表达式的返回值定义)

使用lambda表达式捕获列表：

- [] 不捕获任何变量。
- [&] 按引用捕获外部作用域中所有变量，并作为引用在函数体中使用
- [=] 按值捕获外部作用域中所有变量，并作为副本在函数体中使用
- [=，&foo] 按值捕获外部作用域中所有变量，并按引用捕获 foo 变量。
- [bar] 按值捕获 bar 变量，同时不捕获其他变量。
- [this]  捕获当前类中的 this 指针，在 lamda 表达式中可以使用当前类的成员函数和成员变量。


<p align="right">by2021.4.21</p>

### 2. volatile关键字
&emsp;&emsp;说来遗憾，初次接触到这个关键字时不是在C++书中，而是在设计模式中，当时老师讲单例设计模式时，说它可以解决内存读写不安全的问题即reorder，当时还不知道是怎么个一回事，直到今天再次看到，明白它的概念以及作用后，才恍然大悟。

&emsp;&emsp;volatile 关键字是一种类型修饰符，用它声明的类型变量表示可以被某些编译器未知的因素更改，比如：操作系统，硬件或者其他线程等。

&emsp;&emsp;当要求使用 volatile 声明的变量值的时候，系统总是重新从它所在的内存地址中读取数据，即使它前面的指令刚刚从该处读取过数据。而且读取的数据立刻被保存。声明时语法：volatile int i = 10; 

##### 2.1. 为什么使用volatile ？

&emsp;&emsp;volatile 指出 i 是随时可能发生变化的，每次使用它的时候必须从 i的地址中读取，因而编译器生成的汇编代码会重新从i的地址读取数据。而优化做法是，由于编译器发现两次从 i读数据的代码之间的代码没有对 i 进行过操作，它会自动使用上次读到i的数据。而不是重新从 i 里面读。这样以来，如果 i是一个寄存器变量或者表示一个端口数据就容易出错，所以说 volatile 可以保证对特殊地址的稳定访问。

volatile用在如下的几个地方： 
- 中断服务程序中修改的供其它程序检测的变量需要加volatile； 
- 多任务环境下各任务间共享的标志应该加volatile； 
- 存储器映射的硬件寄存器通常也要加volatile说明，因为每次对它的读写都可能由不同意义；

##### 2.2. 多线程下的volatile  

&emsp;&emsp;当两个线程都要用到某一个变量且该变量的值会被改变时，应该用volatile声明，该关键字的作用是防止优化编译器把变量从内存装入CPU寄存器中。如果变量被装入寄存器，那么两个线程有可能一个使用内存中的变量，一个使用寄存器中的变量，这会造成程序的错误执行。volatile的意思是让编译器每次操作该变量时一定要从内存中真正取出，而不是使用已经存在寄存器中的值。

